(this["webpackJsonpxstate-react-typescript-template"]=this["webpackJsonpxstate-react-typescript-template"]||[]).push([[0],{21:function(e,t,n){"use strict";n.r(t);var o=n(10),i=n(20),c=(n(25),n(7),n(18)),a=n(32),r=n(2),s=n(14),l=n(16),u=["aqua","azure","beige","bisque","black","blue","brown","chocolate","coral","crimson","cyan","fuchsia","ghostwhite","gold","goldenrod","gray","green","indigo","ivory","khaki","lavender","lime","linen","magenta","maroon","moccasin","navy","olive","orange","orchid","peru","pink","plum","purple","red","salmon","sienna","silver","snow","tan","teal","thistle","tomato","turquoise","violet","white","yellow"],p="#JSGF V1.0; grammar colors; public <color> = "+u.join(" | ")+" ;",d=new webkitSpeechGrammarList;d.addFromString(p,1);var g=d,b=Object(a.a)({id:"machine",type:"parallel",states:{dm:{initial:"init",states:{init:{on:{CLICK:"askColour"}},askColour:{entry:Object(r.k)("LISTEN"),on:{ASR_onResult:"repaint"}},repaint:{entry:[Object(r.k)("SPEAK"),"repaint"],on:{CLICK:"askColour"}}}},asr:{initial:"idle",states:{idle:{on:{LISTEN:"listening"}},listening:{entry:"recStart",on:{ASR_onResult:{actions:[Object(r.b)({recResult:function(e,t){return t.recResult}}),"recLogResult"],target:"nlu"}},exit:"recStop"},nlu:{invoke:{id:"getNLU",src:function(e){return j(e.recResult)},onDone:{target:"idle",actions:[Object(r.b)({nluData:function(e,t){return t.data}}),"logIntent"]},onError:{target:"idle",actions:["nluSaveResult"]}}}}},tts:{initial:"idle",states:{idle:{on:{SPEAK:"speaking"}},speaking:{entry:"speak",on:{TTS_onEnd:"idle"}}}}}},{actions:{recLogResult:function(e){console.log("<< ASR: "+e.recResult)},test:function(){console.log("test")},logIntent:function(e){console.log("<< NLU intent: "+e.nluData.intent.name)}}});function h(e){return Object(o.jsx)("span",{style:{backgroundColor:e.name},children:" "+e.name})}function m(){var e=Object(l.useSpeechSynthesis)({onEnd:function(){d("TTS_onEnd")}}).speak,t=Object(l.useSpeechRecognition)({onResult:function(e){d({type:"ASR_onResult",recResult:e})}}),n=t.listen,c=(t.listening,t.stop),a=Object(s.b)(b,{actions:{recStart:Object(s.a)((function(){console.log("Ready to receive a color command."),n({interimResults:!1,continuous:!1,grammars:g})})),recStop:Object(s.a)((function(){console.log("Recognition stopped."),c()})),repaint:Object(s.a)((function(e){console.log("Repainting..."),document.body.style.background=e.recResult})),speak:Object(s.a)((function(t){console.log("Speaking..."),e({text:"I heard "+t.recResult})}))}}),r=Object(i.a)(a,2),p=r[0],d=r[1],m=p.matches("listening");return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("p",{children:["Tap / click then say a color to change the background color of the box.Try",u.map((function(e,t){return Object(o.jsx)(h,{name:e})})),"."]}),Object(o.jsxs)("button",{onClick:function(){return d("CLICK")},children:["\ud83c\udfa4 ",m?"Listening...":"Click me!"]})]})}var j=function(e){return fetch(new Request("https://cors-anywhere.herokuapp.com/https://rasa-nlu-api-00.herokuapp.com/model/parse",{method:"POST",headers:{Origin:"http://localhost:3000"},body:'{"text": "'.concat(e,'"}')})).then((function(e){return e.json()}))},k=document.getElementById("root");c.render(Object(o.jsx)(m,{}),k)},25:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.051bfc71.chunk.js.map